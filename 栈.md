* 溢出  
&emsp;上界溢出  
&emsp;下界溢出  

* 入栈  
&emsp;x86  
&emsp;&emsp;参数/返回地址+jmp/ebp/局部变量  
&emsp;&emsp;参数从右向左入栈  
&emsp;x64  
&emsp;&emsp;寄存器接收后六个参数，之后的参数通过栈传参  

* 分类  
&emsp;进程栈  
&emsp;&emsp;ulimit，8M  
&emsp;&emsp;动态增长：缺页异常->expand_stack()  
&emsp;&emsp;task_struct->mm_struct->start_stack  
&emsp;&emsp;动态栈增长是唯一一种访问未映射内存区域而被允许的情形  
&emsp;线程栈  
&emsp;&emsp;固定，不能动态增长  
&emsp;内核栈  
&emsp;&emsp;系统调用  
&emsp;&emsp;每个进程都有自己的内核栈  
&emsp;&emsp;task_struct->stack  
&emsp;中断栈  
&emsp;&emsp;可以共享内核栈   
![](https://img-blog.csdn.net/20160901215126528)


push/pop会自动更新esp  

call  
&emsp;返回地址入栈（CS+IP）  
&emsp;jmp    

call之后  
&emsp;切换栈帧：push %ebp，%ebp == %esp  
&emsp;开栈（esp下移）  
&emsp;初始化局部变量（一般基于ebp）  

leave  
&emsp;回收栈帧：%esp == %ebp, pop %ebp  

ret  
&emsp;pop返回地址  
&emsp;jmp  


![](https://img-blog.csdn.net/20160901214853559)
![](https://img-blog.csdn.net/20160901214948512)

current宏：返回thread_info结构task字段  
![](https://img-blog.csdn.net/20160901215111055)

-fomit-frame-pointer
优化掉fp/bp

http://edu.i-soft.com.cn/doc/longxin-2017/02-1MIPS%E6%8C%87%E4%BB%A4%E4%B8%8E%E6%B1%87%E7%BC%96.pdf   
https://cs.nju.edu.cn/swang/CompArchOrg_13F/slides/lecture19.pdf   
